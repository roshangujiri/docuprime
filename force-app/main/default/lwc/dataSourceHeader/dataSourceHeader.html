<template>
    <div if:true={showSpinner} class="loader">
        <div class="slds-spinner_container slds-is-fixed">
            <div role="status" class="slds-spinner slds-spinner_medium slds-spinner_brand">
                <span class="slds-assistive-text">Laoding</span>
                <div class="slds-spinner__dot-a"></div>
                <div class="slds-spinner__dot-b"></div>
            </div>
        </div>
    </div>
    <div class="slds-page-header header">
        <div class="slds-page-header__row">
            <div class="slds-page-header__col-title">
                <div class="slds-media">
                    <div class="slds-media__figure"><span class="slds-icon_container ">
                            <lightning-icon icon-name="custom:custom18" size="large"></lightning-icon>
                        </span></div>
                    <div class="slds-media__body">
                        <div class="slds-page-header__name">
                            <div class="slds-page-header__name-title">
                                <h1><span>Docuprime</span><span class="slds-page-header__title slds-truncate">Editing
                                        &quot;Contract Letter&quot;</span></h1>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <div>
                <lightning-input name="contextId" label="Enter some text" type="text" variant="label-hidden"
                    onchange={handleContextIdChange} date-style="medium" placeholder="Enter Context Id"
                    class="headerSection" style="margin-right: 3px;">
                </lightning-input>
            </div>
            <div>
                <lightning-icon icon-name="action:preview" size="x-small" class="headerSection" style="cursor: pointer;"
                    onclick={handlePreview}></lightning-icon>
            </div> -->
            <div class="slds-page-header__col-actions">
                <div class="slds-page-header__controls headerSection">
                    <div class="slds-page-header__control">
                        <!-- <ul class="slds-button-group-list"> -->
                        <!-- <li> -->
                        <!-- <div class="slds-dropdown-trigger slds-dropdown-trigger_click"> -->
                        <lightning-button-group>
                            <lightning-button icon-position="left" type="button" label="Back to List "
                                icon-name="utility:back"></lightning-button>
                            <!-- <lightning-button label="Edit Template" icon-position="left" type="button">
                                        </lightning-button> -->
                            <!-- <lightning-button label="Setting JSON" icon-position="left" type="button"
                                            onclick={editSettingJson}>
                                        </lightning-button> -->
                            <lightning-button icon-position="left" type="button" label="Preview" variant="neutral"
                                onclick={handlePreview}>
                            </lightning-button>
                            <lightning-button icon-position="left" type="button" label="Render" variant="neutral"
                                onclick={renderReport}>
                            </lightning-button>
                            <lightning-button label="Save" icon-position="left" type="button"
                                onclick={HandleSaveAllDataSources}>
                            </lightning-button>
                            <lightning-button-menu alternative-text="Show menu" variant="border-filled"
                                menu-alignment="auto">
                                <lightning-menu-item label="Setting JSON" value="item1" target="_blank"
                                    onclick={editSettingJson}>
                                </lightning-menu-item>
                                <lightning-menu-item label="Edit Template" value="item2" target="_blank">
                                </lightning-menu-item>
                                <lightning-menu-item label="Delete Template" value="item3" target="_blank">
                                </lightning-menu-item>
                            </lightning-button-menu>
                        </lightning-button-group>
                        <!-- </div> -->
                        <!-- </li> -->
                        <!-- </ul> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <template if:true={isModalOpen}>
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
            aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <!-- Modal/Popup Box LWC header here -->
                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                        onclick={closeModal}>
                        <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
                            size="small">
                        </lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Additional Information.

                        <lightning-helptext content={content} class="slds-float_right">
                        </lightning-helptext>

                    </h2>
                </header>
                <!-- Modal/Popup Box LWC body starts here -->
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <c-rich-text-editor json-editor-data={additionalData} ongetdata={getHandleChangeJsonData}>
                    </c-rich-text-editor>
                </div>
                <!-- Modal/Popup Box LWC footer starts here -->
                <footer class="slds-modal__footer">
                    <button class="slds-button slds-button_neutral" onclick={closeModal}>Cancel</button>
                    <button class="slds-button slds-button_brand" onclick={handleSaveJson}>Save</button>
                </footer>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>

    </template>
</template>